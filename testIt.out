

  TokenAgentFactory
    Deploy TokenAgentFactory And TokenAgent
        * accounts: ["0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266","0x70997970C51812dc3A010C7d01b50e0d17dc79C8","0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC"]
        + erc20Token.Transfer(from:0x0000000000, to:0xf39Fd6e51a, tokens: 1000000.0)
        * weth: 0x5FbDB2315678afecb367f032d93F642f64180aa3
        * 20: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512, 721: 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0, 1155: 0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9
        + tokenAgentFactory.NewTokenAgent(tokenAgent: 0xb0279Db6a2, owner: 0xf39Fd6e51a, index: 0, timestamp: 9/5/2024, 12:21:40 AM)
        + tokenAgentFactory.NewTokenAgent(tokenAgent: 0x3dE2Da43d4, owner: 0x70997970C5, index: 0, timestamp: 9/5/2024, 12:21:41 AM)
        + tokenAgentFactory.NewTokenAgent(tokenAgent: 0xddEA3d6750, owner: 0x3C44CdDdB6, index: 0, timestamp: 9/5/2024, 12:21:42 AM)
        + tokenAgentFactory.NewTokenAgent(tokenAgent: 0xAbB608121F, owner: 0x90F79bf6EB, index: 0, timestamp: 9/5/2024, 12:21:43 AM)
        + weth.Deposit(dst:0xf39Fd6e51a, wad: 100.0)
        + weth.Deposit(dst:0x70997970C5, wad: 100.0)
        + weth.Deposit(dst:0x3C44CdDdB6, wad: 100.0)
        + weth.Deposit(dst:0x90F79bf6EB, wad: 100.0)
        + erc20Token.Transfer(from:0xf39Fd6e51a, to:0x70997970C5, tokens: 1000.0)
        + erc20Token.Transfer(from:0xf39Fd6e51a, to:0x3C44CdDdB6, tokens: 1000.0)
        + erc20Token.Transfer(from:0xf39Fd6e51a, to:0x90F79bf6EB, tokens: 1000.0)
        + erc20Token.Transfer(from:0xf39Fd6e51a, to:0x0000000000, tokens: 996000.0)
        + weth.Approval(owner:0x70997970C5, spender:0xb0279Db6a2, tokens: 12.345)
        + weth.Approval(owner:0x70997970C5, spender:0x3dE2Da43d4, tokens: 12.345)
        + weth.Approval(owner:0x70997970C5, spender:0xddEA3d6750, tokens: 12.345)
        + weth.Approval(owner:0x70997970C5, spender:0xAbB608121F, tokens: 12.345)
        + weth.Approval(owner:0x3C44CdDdB6, spender:0xb0279Db6a2, tokens: 12.345)
        + weth.Approval(owner:0x3C44CdDdB6, spender:0x3dE2Da43d4, tokens: 12.345)
        + weth.Approval(owner:0x3C44CdDdB6, spender:0xddEA3d6750, tokens: 12.345)
        + weth.Approval(owner:0x3C44CdDdB6, spender:0xAbB608121F, tokens: 12.345)
        + weth.Approval(owner:0x90F79bf6EB, spender:0xb0279Db6a2, tokens: 12.345)
        + weth.Approval(owner:0x90F79bf6EB, spender:0x3dE2Da43d4, tokens: 12.345)
        + weth.Approval(owner:0x90F79bf6EB, spender:0xddEA3d6750, tokens: 12.345)
        + weth.Approval(owner:0x90F79bf6EB, spender:0xAbB608121F, tokens: 12.345)
        + erc20Token.Approval(owner:0x70997970C5, spender:0xb0279Db6a2, tokens: 12.345)
        + erc20Token.Approval(owner:0x70997970C5, spender:0x3dE2Da43d4, tokens: 12.345)
        + erc20Token.Approval(owner:0x70997970C5, spender:0xddEA3d6750, tokens: 12.345)
        + erc20Token.Approval(owner:0x70997970C5, spender:0xAbB608121F, tokens: 12.345)
        + erc20Token.Approval(owner:0x3C44CdDdB6, spender:0xb0279Db6a2, tokens: 12.345)
        + erc20Token.Approval(owner:0x3C44CdDdB6, spender:0x3dE2Da43d4, tokens: 12.345)
        + erc20Token.Approval(owner:0x3C44CdDdB6, spender:0xddEA3d6750, tokens: 12.345)
        + erc20Token.Approval(owner:0x3C44CdDdB6, spender:0xAbB608121F, tokens: 12.345)
        + erc20Token.Approval(owner:0x90F79bf6EB, spender:0xb0279Db6a2, tokens: 12.345)
        + erc20Token.Approval(owner:0x90F79bf6EB, spender:0x3dE2Da43d4, tokens: 12.345)
        + erc20Token.Approval(owner:0x90F79bf6EB, spender:0xddEA3d6750, tokens: 12.345)
        + erc20Token.Approval(owner:0x90F79bf6EB, spender:0xAbB608121F, tokens: 12.345)
        + erc721Token.Transfer(from:0x0000000000, to: 0x70997970C5, tokenId: 0
        + erc721Token.Transfer(from:0x0000000000, to: 0x70997970C5, tokenId: 1
        + erc721Token.Transfer(from:0x0000000000, to: 0x70997970C5, tokenId: 2
        + erc721Token.Transfer(from:0x0000000000, to: 0x70997970C5, tokenId: 3
        + erc721Token.Transfer(from:0x0000000000, to: 0x3C44CdDdB6, tokenId: 4
        + erc721Token.Transfer(from:0x0000000000, to: 0x3C44CdDdB6, tokenId: 5
        + erc721Token.Transfer(from:0x0000000000, to: 0x3C44CdDdB6, tokenId: 6
        + erc721Token.Transfer(from:0x0000000000, to: 0x3C44CdDdB6, tokenId: 7
        + erc721Token.Transfer(from:0x0000000000, to: 0x90F79bf6EB, tokenId: 8
        + erc721Token.Transfer(from:0x0000000000, to: 0x90F79bf6EB, tokenId: 9
        + erc721Token.Transfer(from:0x0000000000, to: 0x90F79bf6EB, tokenId: 10
        + erc721Token.Transfer(from:0x0000000000, to: 0x90F79bf6EB, tokenId: 11
        + erc721Token.ApprovalForAll(owner:0x70997970C5, operator: 0xb0279Db6a2, approved: true
        + erc721Token.ApprovalForAll(owner:0x70997970C5, operator: 0x3dE2Da43d4, approved: true
        + erc721Token.ApprovalForAll(owner:0x70997970C5, operator: 0xddEA3d6750, approved: true
        + erc721Token.ApprovalForAll(owner:0x70997970C5, operator: 0xAbB608121F, approved: true
        + erc721Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0xb0279Db6a2, approved: true
        + erc721Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0x3dE2Da43d4, approved: true
        + erc721Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0xddEA3d6750, approved: true
        + erc721Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0xAbB608121F, approved: true
        + erc721Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0xb0279Db6a2, approved: true
        + erc721Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0x3dE2Da43d4, approved: true
        + erc721Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0xddEA3d6750, approved: true
        + erc721Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0xAbB608121F, approved: true
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0xf39Fd6e51a, id: 0, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0xf39Fd6e51a, id: 0, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0xf39Fd6e51a, id: 0, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0xf39Fd6e51a, id: 0, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x70997970C5, id: 1, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x70997970C5, id: 1, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x70997970C5, id: 1, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x70997970C5, id: 1, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x3C44CdDdB6, id: 2, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x3C44CdDdB6, id: 2, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x3C44CdDdB6, id: 2, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x3C44CdDdB6, id: 2, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x90F79bf6EB, id: 3, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x90F79bf6EB, id: 3, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x90F79bf6EB, id: 3, amount: 10
        + erc1155Token.TransferSingle(operator:0xf39Fd6e51a, from: 0x0000000000, to: 0x90F79bf6EB, id: 3, amount: 10
        + erc1155Token.ApprovalForAll(owner:0xf39Fd6e51a, operator: 0xb0279Db6a2, approved: true
        + erc1155Token.ApprovalForAll(owner:0xf39Fd6e51a, operator: 0x3dE2Da43d4, approved: true
        + erc1155Token.ApprovalForAll(owner:0xf39Fd6e51a, operator: 0xddEA3d6750, approved: true
        + erc1155Token.ApprovalForAll(owner:0xf39Fd6e51a, operator: 0xAbB608121F, approved: true
        + erc1155Token.ApprovalForAll(owner:0x70997970C5, operator: 0xb0279Db6a2, approved: true
        + erc1155Token.ApprovalForAll(owner:0x70997970C5, operator: 0x3dE2Da43d4, approved: true
        + erc1155Token.ApprovalForAll(owner:0x70997970C5, operator: 0xddEA3d6750, approved: true
        + erc1155Token.ApprovalForAll(owner:0x70997970C5, operator: 0xAbB608121F, approved: true
        + erc1155Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0xb0279Db6a2, approved: true
        + erc1155Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0x3dE2Da43d4, approved: true
        + erc1155Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0xddEA3d6750, approved: true
        + erc1155Token.ApprovalForAll(owner:0x3C44CdDdB6, operator: 0xAbB608121F, approved: true
        + erc1155Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0xb0279Db6a2, approved: true
        + erc1155Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0x3dE2Da43d4, approved: true
        + erc1155Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0xddEA3d6750, approved: true
        + erc1155Token.ApprovalForAll(owner:0x90F79bf6EB, operator: 0xAbB608121F, approved: true
        * now: 9/5/2024, 12:21:35 AM
        * expiry: 9/5/2024, 12:23:35 AM

          # Account                               ETH                     WETH                   ERC-20
          - ---------------- ------------------------ ------------------------ ------------------------
          0 0xf39Fd6e51aad88  9899.977644410245727061                    100.0                   1000.0
          1 0x70997970C51812   9899.99890167046584437                    100.0                   1000.0
          2 0x3C44CdDdB6a900  9899.998921448181788429                    100.0                   1000.0
          3 0x90F79bf6EB2c4f  9899.998936486206364635                    100.0                   1000.0

        > erc20Token.inputs.length 6
        * addOffers1TxReceipt.gasUsed: 828966
        + tokenAgents[1].Offer20Added(offerKey:0x8617...06f3, token: 0xe7f1725E77, nonce: 0, buySell: 1, expiry: 9/5/2024, 12:23:35 AM, prices: ["0.1","0.2","0.3"], tokens: ["1.0","1.0","0.1"], timestamp: 9/5/2024, 12:23:12 AM)
        + tokenAgents[1].Offer721Added(offerKey:0x3891...e194, token: 0x9fE4673667, nonce: 0, buySell: 0, expiry: 9/5/2024, 12:23:35 AM, prices: ["0.1"], tokenIds: [], timestamp: 9/5/2024, 12:23:12 AM)
        + tokenAgents[1].Offer721Added(offerKey:0x3bc3...c4a5, token: 0x9fE4673667, nonce: 0, buySell: 1, expiry: 9/5/2024, 12:23:35 AM, prices: ["0.1"], tokenIds: ["1","2","3","4"], timestamp: 9/5/2024, 12:23:12 AM)
        + tokenAgents[1].Offer721Added(offerKey:0xd896...c095, token: 0x9fE4673667, nonce: 0, buySell: 1, expiry: 9/5/2024, 12:23:35 AM, prices: ["0.1","0.2","0.3"], tokenIds: ["1","2","3"], timestamp: 9/5/2024, 12:23:12 AM)
        * offerKeys: 0x8617382c34a5c19534a05fb09e1c2377ca517c9eaa5dc105735bbc49d74e06f3,0x3891309f1b0befedb6fa696a5094734581b8497b37eb3efe7dab4613cf4ce194,0x3bc3fd6595aae55e692f4bc8a8a52923fa1a6cfbf46c649100122aa959a2c4a5,0xd896e6faf24e3ae4f19aa8ff4e21c6a01b7b96b617cfd468b7e747cf8aadc095
        * trades1: [["0x8617382c34a5c19534a05fb09e1c2377ca517c9eaa5dc105735bbc49d74e06f3","2100000000000000000","157142857142857142",1]]
        >        expiry/timestamp 1725459815 1725459793
        * trades1TxReceipt.gasUsed: 36734

          # Account                               ETH                     WETH                   ERC-20
          - ---------------- ------------------------ ------------------------ ------------------------
          0 0xf39Fd6e51aad88  9899.977644410245727061                    100.0                   1000.0
          1 0x70997970C51812  9899.998072702438193534                    100.0                   1000.0
          2 0x3C44CdDdB6a900  9899.998884714102516457                    100.0                   1000.0
          3 0x90F79bf6EB2c4f  9899.998936486206364635                    100.0                   1000.0

      âœ” Test TokenAgent offers (772ms)


  1 passing (774ms)

